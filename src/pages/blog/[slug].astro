---
import PostLayout from "@layouts/PostLayout.astro";
import { SEO } from "astro-seo";

export async function getStaticPaths() {
    const posts = await Astro.glob("./**/*.{md,mdx}*");

    return posts.map((post) => ({
        params: {
            slug:
                post.frontmatter.slug ||
                post.frontmatter.title.toLowerCase().split(" ").join("-"),
        },
        props: {
            post,
        },
    }));
}

const { Content, frontmatter } = Astro.props.post;
---

<PostLayout content={frontmatter}>
    <SEO title={frontmatter.title} description={frontmatter.description} />
    <Content />
</PostLayout>
