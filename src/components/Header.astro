---
export interface Props {
	title?: string;
}

const { title } = Astro.props;
---

<header class="bg-gray-900 flex justify-center w-full fixed top-0 text-gray-300 z-10">
	<nav class="text-gray-300 flex items-center w-11/12 md:w-8/12 lg:w-6/12 py-4 sm:mx-20 sm:px-2">
		<a href="/" class="font-bold">jaludev</a>
		{title && 
			<div class="flex-grow">
				<div id="floating-header" class="border-l-2 ml-3 pl-3 border-gray-200">{title}</div>
			</div>
		}
	</nav>
</header>

<script>
	window.addEventListener('scroll', () => {
			let header = document.getElementById('floating-header');
			if (!header) return;
            let scrollPos = window.scrollY;
            if (scrollPos > 80) {
                header.classList.add('active');
            } else {
                header.classList.remove('active');
            }
        });
</script>

<style>
	#floating-header {
		opacity: 0;
		transform: translateY(10px);
		transition-duration: 100ms;
	}

	#floating-header.active {
		transform: translateY(0);
		opacity: 100;
	}
</style>